(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))e(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const h of r.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&e(h)}).observe(document,{childList:!0,subtree:!0});function s(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerPolicy&&(r.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?r.credentials="include":a.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function e(a){if(a.ep)return;a.ep=!0;const r=s(a);fetch(a.href,r)}})();const x=document.getElementById("interactive-canvas"),i=x.getContext("2d");let n=x.width=window.innerWidth,l=x.height=window.innerHeight,c={x:n/2,y:l/2,radius:80},v=0;const C=["bacteria","space","immune"];let y=[],b=null,w=[],R=[],S=[],g=[],f=null,M=!1,T=!1,L=0,_=0,I=!1,p=0,E="fading-out";const U=.04;function ht(){I||(I=!0,E="fading-out")}function q(o,t,s){const e={r:parseInt(o.slice(1,3),16),g:parseInt(o.slice(3,5),16),b:parseInt(o.slice(5,7),16)},a={r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16)},r=Math.round(e.r+s*(a.r-e.r)),h=Math.round(e.g+s*(a.g-e.g)),d=Math.round(e.b+s*(a.b-e.b));return`#${r.toString(16).padStart(2,"0")}${h.toString(16).padStart(2,"0")}${d.toString(16).padStart(2,"0")}`}function nt(){const o=C[v];if(o==="bacteria"){const t=i.createRadialGradient(n/2,l/2,0,n/2,l/2,Math.max(n,l)),s="#3a2a2a",e="#1a0a0a",a=q(s,"#2e4d2e",L),r=q(e,"#152b15",L);return t.addColorStop(0,a),t.addColorStop(1,r),t}return o==="immune"?q("#4a0e0e","#000000",_):"#000000"}function $(){y=[],b=null,w=[],R=[],S=[],g=[],f=null,T=!1,L=0,_=0;const o=C[v];if(o==="bacteria"){const t=["#f2d7d5","#d4efdf","#d6eaf8","#fdebd0","#e8daef"];for(let s=0;s<150;s++){const e=["circle","rod","worm","blob"][Math.floor(Math.random()*4)];y.push(new B(e,t))}}else if(o==="space"){for(let e=0;e<250;e++)y.push(new B("star"));const t=n*.15,s=l*.3;w.push(new W(t,s,50,"#3d4d9b","#82a2f5","earth")),w.push(new W(t,s,15,"#b0b0b0","#e0e0e0","moon")),b=new ct(n/2,l/2)}else if(o==="immune"){for(let t=0;t<40;t++)y.push(new A);for(let t=0;t<30;t++)y.push(new k("t_cell"));for(let t=0;t<15;t++)y.push(new k("b_cell"));for(let t=0;t<5;t++)y.push(new k("macrophage"))}}class lt{constructor(t,s){this.x=t,this.y=s,this.radius=15,this.maxLife=300,this.life=this.maxLife}update(){this.life--}draw(){const t=Math.min(1,this.life/100);i.fillStyle=`rgba(118, 186, 70, ${t})`,i.strokeStyle=`rgba(62, 115, 23, ${t})`,i.lineWidth=2,i.beginPath();for(let s=0;s<5;s++){const e=s/5*Math.PI*2+this.life*.01,a=this.radius*.6;i.arc(this.x+Math.cos(e)*a,this.y+Math.sin(e)*a,this.radius*.5,0,Math.PI*2)}i.fill(),i.stroke()}}class dt{constructor(t,s){this.x=t,this.y=s,this.radius=15,this.eventHorizonRadius=this.radius*2.5,this.rotation=0}update(){this.rotation+=.005}draw(){i.save(),i.translate(this.x,this.y),i.rotate(this.rotation);const t=i.createLinearGradient(-this.eventHorizonRadius,0,this.eventHorizonRadius,0);t.addColorStop(0,"rgba(200, 200, 255, 0)"),t.addColorStop(.2,"rgba(200, 200, 255, 0.3)"),t.addColorStop(.5,"rgba(200, 200, 255, 0)"),t.addColorStop(.8,"rgba(200, 200, 255, 0.3)"),t.addColorStop(1,"rgba(200, 200, 255, 0)"),i.strokeStyle=t,i.lineWidth=1.5,i.beginPath(),i.arc(0,0,this.eventHorizonRadius,0,Math.PI*2),i.stroke(),i.restore();const s=i.createRadialGradient(this.x,this.y,0,this.x,this.y,this.radius);s.addColorStop(.5,"#000"),s.addColorStop(1,"rgba(0,0,0,0)"),i.fillStyle=s,i.beginPath(),i.arc(this.x,this.y,this.radius,0,Math.PI*2),i.fill()}}class K{constructor(t,s){this.x=t,this.y=s,this.radius=12,this.vx=(Math.random()-.5)*.5,this.vy=(Math.random()-.5)*.5,this.rotation=0,this.spikes=[];for(let e=0;e<12;e++)this.spikes.push({angle:e/12*Math.PI*2,length:Math.random()*4+4})}update(){this.x+=this.vx,this.y+=this.vy,this.rotation+=.01,this.vx*=.99,this.vy*=.99,(this.x-this.radius<0||this.x+this.radius>n)&&(this.vx*=-1),(this.y-this.radius<0||this.y+this.radius>l)&&(this.vy*=-1)}draw(){i.save(),i.translate(this.x,this.y),i.rotate(this.rotation),i.strokeStyle="#9e4242",i.lineWidth=2,this.spikes.forEach(t=>{i.beginPath(),i.moveTo(0,0),i.lineTo(Math.cos(t.angle)*(this.radius+t.length),Math.sin(t.angle)*(this.radius+t.length)),i.stroke()}),i.fillStyle="#6b2d2d",i.beginPath(),i.arc(0,0,this.radius,0,Math.PI*2),i.fill(),i.restore()}}class A{constructor(){this.x=Math.random()*n,this.y=Math.random()*l,this.radius=Math.random()*8+10,this.vx=(Math.random()-.2)*.5,this.vy=(Math.random()-.5)*.2,this.gradient=i.createRadialGradient(0,0,this.radius*.4,0,0,this.radius),this.gradient.addColorStop(0,"#e74c3c"),this.gradient.addColorStop(1,"#c0392b")}update(){this.x+=this.vx,this.y+=this.vy,this.x-this.radius>n&&(this.x=-this.radius),this.x+this.radius<0&&(this.x=n+this.radius),this.y-this.radius>l&&(this.y=-this.radius),this.y+this.radius<0&&(this.y=l+this.radius)}draw(){i.save(),i.translate(this.x,this.y),i.fillStyle=this.gradient,i.beginPath(),i.arc(0,0,this.radius,0,Math.PI*2),i.fill(),i.restore()}}class W{constructor(t,s,e,a,r,h){this.x=t,this.y=s,this.radius=e,this.baseRadius=e,this.color1=a,this.color2=r,this.type=h,this.earthX=t,this.earthY=s,this.orbitRadius=this.radius*8,this.orbitAngle=Math.random()*Math.PI*2}update(){if(f){const t=f.x-this.x,s=f.y-this.y,e=t*t+s*s,a=1500/e;this.x+=t/Math.sqrt(e)*a,this.y+=s/Math.sqrt(e)*a,e<f.radius*f.radius*4&&(this.radius*=.95)}else if(this.type==="moon"){const t=w.find(s=>s.type==="earth");t&&(this.orbitAngle+=.002,this.x=t.x+Math.cos(this.orbitAngle)*this.orbitRadius,this.y=t.y+Math.sin(this.orbitAngle)*this.orbitRadius)}}draw(){const t=i.createRadialGradient(this.x-this.radius*.3,this.y-this.radius*.3,this.radius*.1,this.x,this.y,this.radius);t.addColorStop(0,this.color2),t.addColorStop(1,this.color1),i.fillStyle=t,i.beginPath(),i.arc(this.x,this.y,this.radius,0,Math.PI*2),i.fill()}}class ct{constructor(t,s){this.x=t,this.y=s,this.vx=0,this.vy=0,this.angle=0,this.size=15,this.baseSize=15,this.flameSize=0}update(){if(f){const s=f.x-this.x,e=f.y-this.y,a=s*s+e*e,r=1e3/a;this.vx+=s/Math.sqrt(a)*r,this.vy+=e/Math.sqrt(a)*r,a<f.radius*f.radius*9&&(this.size*=.97)}else{const s=c.x-this.x,e=c.y-this.y;this.angle=Math.atan2(e,s);const a=Math.cos(this.angle)*.05,r=Math.sin(this.angle)*.05;this.vx+=a,this.vy+=r}this.vx*=.98,this.vy*=.98,this.x+=this.vx,this.y+=this.vy;const t=Math.sqrt(this.vx*this.vx+this.vy*this.vy);this.flameSize=t*4}drawFlame(){this.flameSize<1||this.size<1||(i.save(),i.translate(this.x,this.y),i.rotate(this.angle),i.fillStyle=`rgba(255, 180, 0, ${Math.random()*.5+.5})`,i.beginPath(),i.moveTo(-this.size*.6,0),i.lineTo(-this.size*.8-this.flameSize,this.size*(Math.random()*.5+.25)),i.lineTo(-this.size*.8-this.flameSize,-this.size*(Math.random()*.5+.25)),i.closePath(),i.fill(),i.restore())}draw(){this.drawFlame(),!(this.size<.5)&&(i.save(),i.translate(this.x,this.y),i.rotate(this.angle),i.fillStyle="#dbdbdb",i.beginPath(),i.moveTo(this.size,0),i.lineTo(-this.size/2,this.size/1.5),i.lineTo(-this.size*.8,this.size/1.6),i.lineTo(-this.size,0),i.lineTo(-this.size*.8,-this.size/1.6),i.lineTo(-this.size/2,-this.size/1.5),i.closePath(),i.fill(),i.fillStyle="#9bf6ff",i.beginPath(),i.arc(this.size*.4,0,this.size*.2,0,Math.PI*2),i.fill(),i.restore())}}class ft{constructor(t,s,e,a){this.x=t,this.y=s,this.radius=2,this.life=100;const r=Math.atan2(a-s,e-t),h=5;this.vx=Math.cos(r)*h,this.vy=Math.sin(r)*h}update(){this.x+=this.vx,this.y+=this.vy,this.life--}draw(){i.fillStyle=`rgba(255, 230, 150, ${this.life/100})`,i.beginPath(),i.arc(this.x,this.y,this.radius,0,Math.PI*2),i.fill()}}class k{constructor(t){if(this.type=t,this.x=Math.random()*n,this.y=Math.random()*l,this.vx=(Math.random()-.5)*2,this.vy=(Math.random()-.5)*2,this.isLatched=!1,this.fireCooldown=0,this.angle=0,this.angleSpeed=Math.random()*.01-.005,this.tentacles=[],this.color="#ffb3b3",t==="t_cell")this.radius=Math.random()*8+5,this.color="#ffb3b3";else if(t==="b_cell")this.radius=Math.random()*6+10,this.color="#ffcccc";else{this.radius=Math.random()*10+15,this.color="#ffcedd";for(let s=0;s<8;s++)this.tentacles.push({angle:Math.PI*2/8*s,length:this.radius*(Math.random()*.5+1.5)})}}update(){let t=c.x,s=c.y,e=!0;if(g.length>0){let d=null,u=1/0;g.forEach(z=>{const m=Math.hypot(this.x-z.x,this.y-z.y);m<u&&(u=m,d=z)}),d&&(t=d.x,s=d.y)}else e=!1;const a=t-this.x,r=s-this.y;let h=Math.hypot(a,r);if(this.type!=="b_cell"&&e&&h<this.radius+5&&(this.isLatched=!0),this.isLatched)(!e||h>c.radius)&&(this.isLatched=!1),this.vx*=.8,this.vy*=.8,this.x+=(t-this.x)*.2,this.y+=(s-this.y)*.2;else{if(e&&h<c.radius*2){const d=(c.radius*2-h)/(c.radius*2);this.vx+=a/h*d*.3,this.vy+=r/h*d*.3}this.type==="b_cell"&&this.fireCooldown<=0&&e&&h<c.radius*3&&(R.push(new ft(this.x,this.y,t,s)),this.fireCooldown=30),this.vx+=(Math.random()-.5)*.05,this.vy+=(Math.random()-.5)*.05}this.fireCooldown>0&&this.fireCooldown--,this.angle+=this.angleSpeed,this.vx*=.98,this.vy*=.98,this.x+=this.vx,this.y+=this.vy,this.x-this.radius<0&&(this.x=this.radius,this.vx*=-1),this.x+this.radius>n&&(this.x=n-this.radius,this.vx*=-1),this.y-this.radius<0&&(this.y=this.radius,this.vy*=-1),this.y+this.radius>l&&(this.y=l-this.radius,this.vy*=-1)}draw(){if(i.fillStyle=this.color,i.save(),i.translate(this.x,this.y),i.rotate(this.angle),i.beginPath(),this.type==="macrophage"){const t=performance.now()/300;i.moveTo(this.radius,0);for(let s=0;s<this.tentacles.length;s++){const e=this.tentacles[s],a=Math.sin(e.angle*3+t)*5,r=(Math.sin(e.angle*2.5+t*2)+1)/2*15;i.quadraticCurveTo(Math.cos(e.angle)*(this.radius+a),Math.sin(e.angle)*(this.radius+a),Math.cos(e.angle+.4)*(e.length+r),Math.sin(e.angle+.4)*(e.length+r))}}else i.arc(0,0,this.radius,0,Math.PI*2);i.closePath(),i.fill(),i.restore()}}class B{constructor(t,s,e){this.type=t,this.x=Math.random()*n,this.y=Math.random()*l,this.vx=(Math.random()-.5)*.5,this.vy=(Math.random()-.5)*.5,this.angle=Math.random()*Math.PI*2,this.wiggle=0,this.alpha=Math.random()*.5+.5,t==="star"?(this.radius=Math.random()*1.5,this.color=`rgba(255, 255, 255, ${this.alpha})`):(e?this.color=e:this.color=s[Math.floor(Math.random()*s.length)],t==="rod"?(this.radius=Math.random()*3+2,this.length=Math.random()*20+10):t==="worm"?(this.radius=Math.random()*2+1,this.length=10):this.radius=Math.random()*6+3)}update(){const t=C[v];if(t==="bacteria"){if(S.length>0){const s=S.reduce((h,d)=>Math.hypot(this.x-h.x,this.y-h.y)<Math.hypot(this.x-d.x,this.y-d.y)?h:d),e=s.x-this.x,a=s.y-this.y,r=Math.hypot(e,a);r>1&&(this.vx+=e/r*.08,this.vy+=a/r*.08)}else{const s=c.x-this.x,e=c.y-this.y,a=Math.hypot(s,e);if(a<c.radius){const r=(c.radius-a)/c.radius;this.vx-=s/a*r*2.5,this.vy-=e/a*r*2.5}}this.angle+=(Math.random()-.5)*.05,this.vx+=(Math.random()-.5)*.05,this.vy+=(Math.random()-.5)*.05,this.vx*=.96,this.vy*=.96,this.x+=this.vx,this.y+=this.vy,this.wiggle+=.08,this.x-this.radius<0&&(this.x=this.radius,this.vx*=-1),this.x+this.radius>n&&(this.x=n-this.radius,this.vx*=-1),this.y-this.radius<0&&(this.y=this.radius,this.vy*=-1),this.y+this.radius>l&&(this.y=l-this.radius,this.vy*=-1)}else t==="space"&&this.type==="star"&&(this.alpha+=(Math.random()-.5)*.1,this.alpha>1&&(this.alpha=1),this.alpha<.3&&(this.alpha=.3),this.color=`rgba(255, 255, 255, ${this.alpha})`)}draw(){switch(i.fillStyle=this.color,i.save(),i.translate(this.x,this.y),i.rotate(this.angle),i.beginPath(),this.type){case"star":case"circle":i.arc(0,0,this.radius,0,Math.PI*2);break;case"blob":i.moveTo(this.radius,0);for(let t=0;t<Math.PI*2;t+=.5){const s=this.radius+Math.sin(t*3+this.wiggle)*this.radius*.2;i.lineTo(Math.cos(t)*s,Math.sin(t)*s)}i.closePath();break;case"rod":i.roundRect(-this.length/2,-this.radius,this.length,this.radius*2,this.radius);break;case"worm":for(let t=0;t<this.length;t++){const s=(t-this.length/2)*this.radius,e=Math.sin(t*.5+this.wiggle)*this.radius*1.2;i.arc(s,e,this.radius,0,Math.PI*2)}break}i.fill(),i.restore()}}function Z(){if(!M){i.fillStyle=nt(),i.fillRect(0,0,n,l);const o=C[v];if(o==="bacteria"){const t=new Set,s=[];for(const a of S)for(const r of y)if(r instanceof B&&Math.hypot(r.x-a.x,r.y-a.y)<r.radius+a.radius){t.add(a);const d=["circle","rod","worm","blob"][Math.floor(Math.random()*4)],u=new B(d,void 0,"#76ba46");u.x=a.x,u.y=a.y,s.push(u);break}y.push(...s);const e=[];for(const a of S)t.has(a)||(a.update(),a.life>0&&(e.push(a),a.draw()));S=e}if(o==="space"&&(w.forEach(t=>{t.update(),t.draw()}),w=w.filter(t=>t.radius>1),f&&(f.update(),f.draw())),o==="immune"){const t=y.filter(s=>s instanceof k);if(g.length>0&&t.length>0){const s=new Set,e=new Set,a=[];for(const r of t)for(const h of g){if(s.has(h))continue;if(Math.hypot(r.x-h.x,r.y-h.y)<r.radius+h.radius){Math.random()<.5?s.add(h):(e.add(r),a.push({x:r.x,y:r.y}));break}}(s.size>0||e.size>0)&&(g=g.filter(r=>!s.has(r)),y=y.filter(r=>!e.has(r)),a.forEach(r=>g.push(new K(r.x,r.y))))}t.length===0&&g.length>0&&(T=!0),y.filter(s=>s instanceof A).forEach(s=>{s.update(),s.draw()}),g.forEach(s=>{s.update(),s.draw()})}y.filter(t=>!(t instanceof A)).forEach(t=>{t.update(),t.draw()}),o==="immune"&&(R=R.filter(t=>t.life>0),R.forEach(t=>{t.update(),t.draw()})),b&&(b.update(),b.draw(),b.size<1&&(b=null)),T&&(i.fillStyle="rgba(0,0,0,0.1)",i.fillRect(0,0,n,l)),I&&(E==="fading-out"?(p+=U,p>=1&&(p=1,v=(v+1)%C.length,$(),E="fading-in")):E==="fading-in"&&(p-=U,p<=0&&(p=0,I=!1)),i.fillStyle=`rgba(0, 0, 0, ${p})`,i.fillRect(0,0,n,l))}requestAnimationFrame(Z)}const O=document.getElementById("pubs-section"),V=document.getElementById("covers-section"),ut=document.getElementById("label-pubs"),yt=document.getElementById("label-covers"),gt=(o,t=0,s=1)=>Math.max(t,Math.min(s,o));function Y(){O&&j(O,ut),V&&j(V,yt)}function j(o,t){const s=Array.from(o.querySelectorAll(".paper"));if(!s.length)return;const e=o.getBoundingClientRect(),a=window.innerHeight;if(e.bottom<0||e.top>a)return;const r=a*1.5,h=o.offsetTop-a/2;let u=(window.scrollY-h)/r;u=gt(u,0,1);const z=s.length,m=Math.floor(z/2);s.forEach((F,J)=>{const N=parseInt(F.style.getPropertyValue("--i")),P=Number.isNaN(N)?J:N,X=(P-m)*2.5,D=(P-m)*5,G=(P-m)*-5+100,H=.5,Q=(P-m)*18,tt=(P-m)*190,it=Math.abs(P-m)*-50,st=1,et=X+(Q-X)*u,at=D+(tt-D)*u,rt=G+(it-G)*u,ot=H+(st-H)*u;F.style.transform=`translateY(${rt}px) translateX(${at}px) rotate(${et}deg) scale(${ot})`}),t&&(t.style.left="50%",t.style.transform="translateX(-50%)",t.style.opacity=String(1-u))}x.addEventListener("click",o=>{if(M||I)return;const t=C[v];t==="bacteria"?(S.push(new lt(o.clientX,o.clientY)),L=Math.min(.4,L+.05)):t==="space"?f||(f=new dt(o.clientX,o.clientY)):t==="immune"&&(T||(g.push(new K(o.clientX,o.clientY)),_=Math.min(.8,_+.08)))});window.addEventListener("resize",()=>{n=x.width=window.innerWidth,l=x.height=window.innerHeight,I=!1,p=0,$(),Y()});const mt={"Final_Cover_Submission-01.png":new URL("/Portfolio/assets/Final_Cover_Submission-01-Bqjq0Wya.png",import.meta.url).href,"Final_Cover_Submission-02.png":new URL("/Portfolio/assets/Final_Cover_Submission-02-DjneVVzy.png",import.meta.url).href,"NatAging_Cover.png":new URL("/Portfolio/assets/NatAging_Cover-Cf62WfPD.png",import.meta.url).href,"TPE_Cover.png":new URL("/Portfolio/assets/TPE_Cover-C3U4tEzN.png",import.meta.url).href,"SubstrateStiffness.png":new URL("/Portfolio/assets/SubstrateStiffness-B79xYicj.png",import.meta.url).href,"ImmunologicalBiomarkers.png":new URL("/Portfolio/assets/ImmunologicalBiomarkers-SjZ-q1Zk.png",import.meta.url).href,"CellReportsAD.png":new URL("/Portfolio/assets/CellReportsAD-D7v-n9eO.png",import.meta.url).href,"GastroenterologyDDW2025.png":new URL("/Portfolio/assets/GastroenterologyDDW2025-DTSLXeKM.png",import.meta.url).href};document.querySelectorAll(".paper").forEach(o=>{const t=o.dataset.cover;if(!t)return;const s=mt[t],e=o.querySelector(".paper-inner");e&&s&&(e.style.backgroundImage=`url(${s})`)});document.querySelectorAll(".paper").forEach(o=>{const t=o.dataset.id;t&&o.addEventListener("click",()=>{const s=document.getElementById(t);s&&s.scrollIntoView({behavior:"smooth",block:"start"})})});window.addEventListener("mousemove",o=>{c.x=o.clientX,c.y=o.clientY});window.addEventListener("scroll",()=>{window.scrollY>50?M||(M=!0,x.classList.add("blurred")):M&&(M=!1,x.classList.remove("blurred")),Y()});$();Z();Y();setInterval(()=>{M||ht()},15e3);
